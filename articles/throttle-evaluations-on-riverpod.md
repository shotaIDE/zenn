---
title: "条件に応じてRiverpodの再評価を間引く"
emoji: "🙆"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["flutter", "riverpod"]
published: false
---

<!-- cspell:ignore riverpod -->

## 課題

クイックアクセスのような UI を実装していました。
クイックアクセスの仕様は以下のように設定しています。

- ユーザーが最近利用した回数が多い順に、アクション一覧を並べる

最初、ユーザーがアクションを実行したごとに、クイックアクションの状態を更新するようにしていました。
しかし、ユーザーのアクションが頻繁に発生する場合に、クイックアクションの並び順が頻繁に変わってしまい、操作しにくいという問題が発生しました。

- タップしようとしたクイックアクション上のアクションが、次の瞬間には隣と入れ替わっているというような、不便な状況が発生していました。

そこで、クイックアクションの表示を以下のように限定することとしました。

- アクションが追加された時
- アクションが削除された時

アプリ起動中にアクションの利用頻度が変わったとしても、クイックアクションの並び順は変わらないようにしました。
次回、アプリを起動した際には、最新の利用頻度に応じて並び順を反映するようにしています。
