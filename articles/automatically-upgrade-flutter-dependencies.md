---
title: "ãƒ©ã‚¤ãƒ–ãƒ©ãƒªæ›´æ–°ã«æ™‚é–“ã‹ã‹ã‚Šã™ãã¦ã€æ›´æ–°ä½œæ¥­ã ã‘ã§äººç”Ÿçµ‚ã‚ã£ã¡ã‚ƒã†ã¨ã„ã†å±æ©Ÿæ„Ÿã‚’æŒã¤äººã«é€ã‚‹ï¼"
emoji: "ğŸƒ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["flutter", "ios", "android"]
published: false
---

<!-- cspell:ignore automerge -->

# ã¯ã˜ã‚ã«

ã‚¢ãƒ—ãƒªé–‹ç™ºã§ã€é‹ç”¨ã‚„ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã«ã‹ã‹ã‚‹ã‚³ã‚¹ãƒˆã¯ã§ãã‚‹ã ã‘å‰Šæ¸›ã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚

ç‰¹ã«ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ›´æ–°ã¯ã€ã‚¢ãƒ—ãƒªã®å“è³ªã‚’ä¿ã¤ãŸã‚ã«æ¬ ã‹ã›ãªã„ä½œæ¥­ã®ä¸€æ–¹ã§ã€ãã®æ›´æ–°ä½œæ¥­è‡ªä½“ãŒã‚³ã‚¹ãƒˆã‚’ç”Ÿã‚€ã“ã¨ãŒã‚ã‚Šã¾ã™ã€‚

æœ¬è¨˜äº‹ã§ã¯ã€Flutter ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ›´æ–°ã‚’è‡ªå‹•åŒ–ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚

# æ¦‚è¦

Renovate ã‚’å°å…¥ã—ã€PR ä½œæˆã‚’è‡ªå‹•åŒ–ã—ã¾ã™ã€‚
ã“ã‚Œã«ã‚ˆã‚Šã€Flutter ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä¾å­˜é–¢ä¿‚å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ­ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ›´æ–°ã•ã‚ŒãŸ PR ãŒä½œæˆã•ã‚Œã¾ã™ã€‚

CI ã«ã‚ˆã‚Šã€Flutter ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒé–“æ¥çš„ã«åˆ©ç”¨ã™ã‚‹ iOS ãƒã‚¤ãƒ†ã‚£ãƒ–ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ­ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°ã—ã€PR ã«ãƒ—ãƒƒã‚·ãƒ¥ãƒãƒƒã‚¯ã—ã¾ã™ã€‚

Renovate ã®è‡ªå‹•ãƒãƒ¼ã‚¸ã«ã‚ˆã‚Šã€ãƒãƒ¼ã‚¸ã•ã‚Œã¾ã™ã€‚

# è©³ç´°

GitHub ã§é–‹ç™ºã—ã€GitHub Actions ã§ CI ã‚’çµ„ã‚“ã§ã„ã‚‹å‰æã§èª¬æ˜ã—ã¾ã™ã€‚

## Flutter ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªä¾å­˜é–¢ä¿‚ã®å®šç¾©æ–¹æ³•ã‚’å¤‰æ›´

`pubspec.yaml` ã«ãŠã‘ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®šã¯ã€ã‚­ãƒ£ãƒ¬ãƒƒãƒˆæ¼”ç®—å­ `^` ã‚’ä½¿ã†ã“ã¨ãŒä¸€èˆ¬çš„ã§ã™ã€‚

ä¸€æ–¹ã§ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªé–‹ç™ºã§ã¯ãªãã‚¢ãƒ—ãƒªé–‹ç™ºã«ãŠã„ã¦ã¯ã€æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ä¾å­˜é–¢ä¿‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸã‚‰ã€ã™ãã«æœ€æ–°ç‰ˆã«æ›´æ–°ã™ã‚‹ã“ã¨ãŒæœ›ã¾ã—ã„ã§ã™ã€‚

ãŸã ã€Renovate ã¯ `pubspec.yaml` ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è¦‹ã¦æ›´æ–° PR ã‚’æå‡ºã™ã‚‹ã‹å¦ã‹ã‚’æ±ºå®šã—ã¾ã™ã€‚

ãã“ã§ã€è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³çµ¶å¯¾æŒ‡å®šã«å¤‰æ›´ã—ã¾ã™ã€‚

```diff yaml:pubspec.yaml
name: app_name
description: App description.
publish_to: "none"
version: 1.0.0+1

environment:
  sdk: ">=2.18.5 <3.0.0"
  flutter: ">=3.19.5"

dependencies:
-  cloud_firestore: ^4.15.10
+  cloud_firestore: 4.15.10
-  collection: ^1.18.0
+  collection: 1.18.0
# ...
```

## Renovate ã®å°å…¥

Renovate ã¯ã€GitHub ã®ãƒªãƒã‚¸ãƒˆãƒªã«ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ä½œæˆã—ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®æ›´æ–°ã‚’è‡ªå‹•åŒ–ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

https://docs.renovatebot.com/

ä»¥ä¸‹ã® "Hosted GitHub.com App" ã‚’å‚è€ƒã«ã—ã¦ã€GitHub App ã¨ã—ã¦è©²å½“ã®ãƒªãƒã‚¸ãƒˆãƒªã«å¯¾ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚

https://docs.renovatebot.com/getting-started/installing-onboarding/#hosted-githubcom-app

## Renovate ã®è¨­å®š

Renovate ã‚’ãƒªãƒã‚¸ãƒˆãƒªã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãŸã‚‰ã€ãƒ©ã‚¤ãƒ–ãƒ©ãƒªè‡ªå‹•æ›´æ–°ã®æ¨å¥¨è¨­å®šãŒé©ç”¨ã•ã‚ŒãŸ PR ãŒæå‡ºã•ã‚Œã¾ã™ã€‚

![](/images/automatically-upgrade-flutter-dependencies/renovate-configure-pr.png)

ãã®ã¾ã¾ãƒãƒ¼ã‚¸ã¯ã›ãšã€é©ã—ãŸè¨­å®šã«ä¿®æ­£ã—ã¾ã™ã€‚

ä»¥ä¸‹ã®ã‚ˆã†ã«è¨­å®šã—ã¦ã„ã¾ã™ã€‚

```json:renovate.json
{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "enabledManagers": ["pub"],
  "packageRules": [
    {
      "matchManagers": ["pub"],
      "automerge": true
    }
  ],
  "prConcurrentLimit": 4
}
```

`prConcurrentLimit` ã¯ã€åŒæ™‚ã«æå‡ºã•ã‚Œã‚‹ PR ã®æ•°ã‚’åˆ¶é™ã™ã‚‹ãŸã‚ã®è¨­å®šã§ã™ã€‚
PR ãŒåŒæ™‚ã«å¤§é‡ã«ç™ºç”Ÿã—ã¦ãƒã‚¤ã‚ºã«ãªã‚‰ãªã„ã‚ˆã†ã«ã€é©åˆ‡ãªæ•°ã«è¨­å®šã™ã‚‹ã¨è‰¯ã„ã§ã™ã€‚

ã“ã®ã‚ˆã†ã«ä¿®æ­£å¾Œã€PR ã‚’ãƒãƒ¼ã‚¸ã—ã¾ã™ã€‚

## iOS ãƒã‚¤ãƒ†ã‚£ãƒ–ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ãƒ­ãƒƒã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°ã—ã€ãƒ—ãƒƒã‚·ãƒ¥ãƒãƒƒã‚¯ã™ã‚‹

ãƒ‘ãƒ¼ã‚½ãƒŠãƒ«ã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç”¨æ„ã—ã¾ã™ã€‚
